<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrick Boylan's Song List</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #000000;
            color: #ffffff;
            padding: 40px 20px 20px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2em;
            color: #ffffff;
        }

        /* Filter buttons container */
        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-bottom: 30px;
            padding: 20px 0;
        }

        /* Filter button styling - dark mode */
        .filter-btn {
            background-color: #000000;
            color: #ffffff;
            border: 2px solid #ffffff;
            padding: 12px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .filter-btn.active {
            background-color: #ffffff;
            color: #000000;
        }

        /* Song table wrapper */
        .songlist-wrapper {
            display: flex;
            justify-content: center;
            width: 100%;
            overflow-x: auto;
        }

        /* Song table styling - dark mode */
        .songlist-table {
            border-collapse: collapse;
            width: 100%;
            max-width: 900px;
        }

        .songlist-table th,
        .songlist-table td {
            text-align: left;
            padding: 12px 15px;
            font-size: 16px;
            color: #ffffff;
        }

        .songlist-table th {
            font-weight: bold;
            border-bottom: 2px solid #333333;
            background-color: #111111;
        }

        .songlist-table tr:not(:first-child) td {
            border-bottom: 1px solid #222222;
        }

        /* Column widths */
        .songlist-table th:nth-child(1),
        .songlist-table td:nth-child(1) {
            width: 40%;
        }

        .songlist-table th:nth-child(2),
        .songlist-table td:nth-child(2) {
            width: 40%;
        }

        .songlist-table th:nth-child(3),
        .songlist-table td:nth-child(3) {
            width: 20%;
            text-align: right;
        }

        /* Request button styling - dark mode */
        .request-btn {
            background-color: #000000;
            color: #ffffff;
            border: 2px solid #ffffff;
            padding: 8px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            white-space: nowrap;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            body {
                padding: 40px 15px 20px 15px;
            }

            h1 {
                font-size: 1.5em;
                margin-bottom: 20px;
            }

            .filter-buttons {
                gap: 10px;
                padding: 15px 0;
            }

            .filter-btn {
                padding: 10px 16px;
                font-size: 12px;
            }

            .songlist-table th,
            .songlist-table td {
                padding: 10px 8px;
                font-size: 14px;
            }

            /* Adjust column widths for mobile */
            .songlist-table th:nth-child(1),
            .songlist-table td:nth-child(1) {
                width: 35%;
            }

            .songlist-table th:nth-child(2),
            .songlist-table td:nth-child(2) {
                width: 40%;
            }

            .songlist-table th:nth-child(3),
            .songlist-table td:nth-child(3) {
                width: 25%;
            }

            .request-btn {
                padding: 6px 14px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <h1>Patrick Boylan's Song List</h1>

    <!-- Filter Buttons -->
    <div class="filter-buttons">
        <button class="filter-btn active" data-filter="all">All Songs</button>
        <button class="filter-btn" data-filter="Musicals">Musicals</button>
        <button class="filter-btn" data-filter="Classic Piano Bar Tunes">Classic Piano Bar Tunes</button>
        <button class="filter-btn" data-filter="Disney">Disney</button>
        <button class="filter-btn" data-filter="2000-Present">2000-Present</button>
        <button class="filter-btn" data-filter="90's">90's</button>
        <button class="filter-btn" data-filter="60's-80's">60's-80's</button>
        <button class="filter-btn" data-filter="Jazz">Jazz</button>
        <button class="filter-btn" data-filter="Holiday">Holiday</button>
    </div>

    <!-- Song Table -->
    <div class="songlist-wrapper">
        <table class="songlist-table" id="songTable">
            <thead>
                <tr>
                    <th>Song Title</th>
                    <th>Artist / Show</th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="songBody">
                <!-- Songs will be loaded here via JavaScript -->
            </tbody>
        </table>
    </div>

    <script>
        let allSongs = [];
        let currentFilter = 'all';

        // Load songs from JSON
        async function loadSongs() {
            try {
                const response = await fetch('songs.json');
                allSongs = await response.json();
                renderSongs();
            } catch (error) {
                console.error('Error loading songs:', error);
                document.getElementById('songBody').innerHTML = 
                    '<tr><td colspan="3" style="text-align: center; padding: 20px;">Error loading songs. Please try again later.</td></tr>';
            }
        }

        // Render songs based on current filter
        function renderSongs() {
            const tbody = document.getElementById('songBody');
            tbody.innerHTML = '';

            // Filter songs
            let filteredSongs = allSongs;
            if (currentFilter !== 'all') {
                filteredSongs = allSongs.filter(song => 
                    song.tags && song.tags.includes(currentFilter)
                );
            }

            // Sort alphabetically by title
            filteredSongs.sort((a, b) => 
                a.title.toLowerCase().localeCompare(b.title.toLowerCase())
            );

            // Render songs
            filteredSongs.forEach(song => {
                const row = document.createElement('tr');
                
                const titleCell = document.createElement('td');
                titleCell.textContent = song.title;
                
                const artistCell = document.createElement('td');
                artistCell.textContent = song.artist;
                
                const requestCell = document.createElement('td');
                const requestLink = document.createElement('a');
                requestLink.href = `venmo://paycharge?txn=pay&recipients=patrickTSG&amount=5&note=Song Request: ${encodeURIComponent(song.title + ' - ' + song.artist)}`;
                requestLink.className = 'request-btn';
                requestLink.textContent = 'Request';
                requestCell.appendChild(requestLink);
                
                row.appendChild(titleCell);
                row.appendChild(artistCell);
                row.appendChild(requestCell);
                
                tbody.appendChild(row);
            });
        }

        // Filter button click handlers
        document.querySelectorAll('.filter-btn').forEach(button => {
            button.addEventListener('click', function() {
                // Update active state
                document.querySelectorAll('.filter-btn').forEach(btn => 
                    btn.classList.remove('active')
                );
                this.classList.add('active');

                // Update filter and re-render
                currentFilter = this.getAttribute('data-filter');
                renderSongs();
            });
        });

        // Load songs on page load
        loadSongs();
    </script>
</body>
</html>
